<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive System Flowchart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Dark Grayscale with Cyber Blue/Green Accents -->
    <!-- Application Structure Plan: The application maintains its five-stage vertical flow: 'Input Data', 'Experiment', 'Data to Cluster', 'Cluster to Girder', and 'Post-Girder Processing'. This linear structure is intuitive for understanding a sequential data pipeline. A sticky top navigation allows quick jumps. Key components are interactive, with clicks revealing detailed modals, providing on-demand information without clutter. The "Overall Workflow" at the top offers a high-level summary, reinforcing the user's mental model of the system. This structure prioritizes comprehensive yet digestible information delivery, suitable for a complex technical workflow. The overall workflow now explicitly places arrows between nodes for clearer visual flow. -->
    <!-- Visualization & Content Choices: Flowchart nodes are implemented with semantic HTML `div` elements, styled using Tailwind CSS for a sharp, technical aesthetic with dark backgrounds and contrasting text. Flow arrows are now explicit HTML elements with Unicode characters, carefully positioned using flexbox and responsive classes (`hidden md:block`, `block md:hidden`) to appear *between* nodes for both horizontal (desktop) and vertical (mobile) layouts, adhering to the 'NO SVG/Mermaid' constraint. Interactivity (Goal: Inform, Organize) is managed via JavaScript-driven modals, providing detailed pop-ups for each component. New data flows and components are clearly represented as distinct, clickable elements. The styling aims for a high-contrast, clean, and professional look, characteristic of data visualization and system monitoring dashboards, enhancing readability and engagement. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a202c; /* dark gray background */
            color: #e2e8f0; /* light gray text */
        }
        .flow-arrow::after {
            content: '→';
            font-size: 2.2rem; /* Slightly larger arrows */
            color: #63b3ed; /* cyber blue */
            margin: 0 1rem;
            font-weight: 900; /* Bolder arrow */
        }
        .flow-arrow-down::after {
            content: '↓';
            font-size: 2.2rem; /* Slightly larger arrows */
            color: #63b3ed; /* cyber blue */
            font-weight: 900; /* Bolder arrow */
        }
        .flow-node {
            transition: all 0.2s ease-in-out;
            background-color: #2d3748; /* darker gray for nodes */
            border-color: #4a5568; /* slightly lighter border */
            color: #e2e8f0; /* light text for nodes */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.12); /* sharper shadow */
        }
        .flow-node:hover {
            transform: translateY(-4px) scale(1.02); /* slight lift and scale */
            box-shadow: 0 15px 20px -3px rgba(0, 0, 0, 0.3), 0 6px 10px -2px rgba(0, 0, 0, 0.18); /* more prominent hover shadow */
            cursor: pointer;
            border-color: #63b3ed; /* accent blue on hover */
        }
        .overall-flow-node {
            flex: 0 0 auto; /* Do not grow or shrink, take content width */
            background-color: #2c5282; /* slightly darker blue for overall nodes */
            border: 1px solid #4299e1; /* brighter blue border */
            border-radius: 0.5rem;
            padding: 0.75rem 1rem;
            text-align: center;
            font-weight: 600;
            color: #ffffff; /* white text */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            height: 60px; /* Fixed height for consistency */
            min-width: 140px; /* Adjusted min-width for mobile stacking */
        }
        .overall-flow-arrow {
            font-size: 1.8rem; /* Larger arrows for overall flow */
            color: #63b3ed;
            font-weight: 900;
            margin: 0 0.8rem; /* Horizontal margin for desktop */
        }

        /* Responsive adjustments for overall workflow */
        @media (max-width: 767px) {
            .overall-workflow-container {
                flex-direction: column; /* Stack vertically on mobile */
                align-items: center; /* Center items in column */
            }
            .overall-flow-node {
                width: 80%; /* Occupy more width on mobile */
                max-width: 250px; /* Constrain width on small screens too */
                margin-bottom: 0.5rem; /* Add spacing between vertical nodes */
            }
            .overall-flow-arrow {
                margin: 0.5rem 0; /* Vertical margin for mobile */
            }
            .overall-flow-arrow.hidden.md\:block { /* Hide horizontal arrow on mobile */
                display: none !important;
            }
            .overall-flow-arrow.block.md\:hidden { /* Show vertical arrow on mobile */
                display: block !important;
            }
            /* Adjust margin-bottom for last node and last arrow if column */
            .overall-workflow-container > *:last-child {
                margin-bottom: 0;
            }
            .overall-workflow-container > *:last-child.overall-flow-arrow {
                display: none !important; /* Hide the last arrow */
            }
        }

        /* Specific node type styling adjustments for technical look */
        .node-input { background-color: #2a4365; border-color: #4299e1; } /* Darker blue */
        .node-process { background-color: #4a5568; border-color: #a0aec0; } /* Darker gray */
        .node-output { background-color: #63171b; border-color: #e53e3e; } /* Darker red */
        .node-ancillary { background-color: #2f433f; border-color: #48bb78; } /* Darker green */
        .node-producer { background-color: #4a2b0a; border-color: #dd6b20; } /* Darker orange */
        .node-data-flow { background-color: #2b3a4a; border-color: #63b3ed; color: #a0e0ff; } /* Light blue for data flow */


        /* Modal styling */
        #modal > div {
            background-color: #2d3748; /* Dark background for modal */
            color: #e2e8f0; /* Light text for modal */
            border: 1px solid #4a5568;
            box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.4), 0 4px 10px -2px rgba(0, 0, 0, 0.25);
        }
        #modal-title {
            color: #63b3ed; /* Accent blue for modal title */
        }
        #modal button {
            color: #a0aec0; /* Lighter gray for close button */
        }
        #modal button:hover {
            color: #ffffff; /* White on hover */
        }
        .list-disc li {
            padding-left: 0.5em; /* Adjust list item padding for better look */
            text-indent: -0.5em; /* Pull bullet point back */
        }
        .list-disc li::before {
            content: "•"; /* Custom bullet point */
            color: #48bb78; /* Green bullet point */
            margin-right: 0.5em;
        }

    </style>
</head>
<body class="text-gray-700">

    <!-- Header & Navigation -->
    <header class="bg-gray-800/80 backdrop-blur-lg sticky top-0 z-40 shadow-xl">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-xl font-bold text-white">System Flow Explorer</h1>
            <div class="hidden md:flex space-x-6 text-sm font-semibold">
                <a href="#overall-workflow" class="text-gray-400 hover:text-blue-400">Overall Workflow</a>
                <a href="#input-data" class="text-gray-400 hover:text-blue-400">Input Data</a>
                <a href="#experiment" class="text-gray-400 hover:text-blue-400">Experiment</a>
                <a href="#data-to-cluster" class="text-gray-400 hover:text-blue-400">Data to Cluster</a>
                <a href="#cluster-to-girder" class="text-gray-400 hover:text-blue-400">Cluster to Girder</a>
                <a href="#post-girder" class="text-gray-400 hover:text-blue-400">Post-Girder Processing</a>
                <a href="#dictionary" class="text-gray-400 hover:text-blue-400">Data Dictionary</a>
            </div>
        </nav>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        <!-- Introduction -->
        <section class="text-center mb-16">
            <h2 class="text-4xl font-bold text-white mb-4">Understanding the Data Workflow</h2>
            <p class="max-w-3xl mx-auto text-gray-400">
                This interactive application visualizes a complex data processing system, broken down into its major stages. Navigate through the sections below or click on any component to explore its specific role and details.
            </p>
        </section>

        <!-- Overall Workflow -->
        <section id="overall-workflow" class="p-8 bg-gray-900 rounded-2xl shadow-xl mb-12">
            <h3 class="text-2xl font-bold text-white mb-6 text-center">Overall Workflow at a Glance</h3>
            <p class="text-gray-400 mb-8 text-center max-w-2xl mx-auto">
                A high-level overview of the entire data processing pipeline, from initial experiment setup to final user-requested outputs. Click on any of the detailed sections below for an in-depth view of each stage.
            </p>
            <div class="overall-workflow-container flex flex-wrap justify-center items-center">
                <div class="overall-flow-node">Input Data</div>
                <div class="overall-flow-arrow hidden md:block">→</div>
                <div class="overall-flow-arrow block md:hidden">↓</div>

                <div class="overall-flow-node">Experiment</div>
                <div class="overall-flow-arrow hidden md:block">→</div>
                <div class="overall-flow-arrow block md:hidden">↓</div>

                <div class="overall-flow-node">Data to Cluster</div>
                <div class="overall-flow-arrow hidden md:block">→</div>
                <div class="overall-flow-arrow block md:hidden">↓</div>

                <div class="overall-flow-node">Cluster to Girder</div>
                <div class="overall-flow-arrow hidden md:block">→</div>
                <div class="overall-flow-arrow block md:hidden">↓</div>

                <div class="overall-flow-node">Post-Girder Processing</div>
                <!-- No arrow after the last node -->
            </div>
        </section>

        <!-- Main Flowchart Visualization -->
        <div class="space-y-12">
            <!-- 1. Input Data (Exp run script generation) -->
            <section id="input-data" class="p-8 bg-gray-800 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-bold text-white mb-2">Stage 1: Input Data (Experiment Run Script Generation)</h3>
                <p class="text-gray-400 mb-8">This initial stage focuses on preparing and generating scripts for experiment runs, along with capturing foundational data through various input mechanisms.</p>
                <div class="flex flex-col md:flex-row items-center justify-center md:space-x-4 space-y-8 md:space-y-0">
                    <div class="text-center">
                        <div class="flow-node node-input border-blue-600 rounded-xl p-6 w-64" onclick="showModal('IGSN')">
                            <h4 class="font-bold text-lg text-blue-300">IGSN</h4>
                            <p class="text-sm text-blue-200">Initial Data Identifier</p>
                        </div>
                        <div class="flow-arrow-down mt-4"></div>
                        <div class="flow-node node-input border-blue-600 rounded-xl p-6 w-64" onclick="showModal('Data Input Forms')">
                            <h4 class="font-bold text-lg text-blue-300">Data Input Forms</h4>
                            <p class="text-sm text-blue-200">Script & Parameter Input</p>
                        </div>
                    </div>
                    <div class="hidden md:block flow-arrow"></div>
                    <div class="text-center">
                        <div class="flow-node node-input border-green-600 rounded-xl p-6 w-64" onclick="showModal('User Interface')">
                            <h4 class="font-bold text-lg text-green-300">User Interface</h4>
                            <p class="text-sm text-green-200">Direct User Interaction</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 2. Experiment (Run and Data Generation) -->
            <section id="experiment" class="p-8 bg-gray-800 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-bold text-white mb-2">Stage 2: Experiment (Run and Data Generation)</h3>
                <p class="text-gray-400 mb-8">This is the core of the experiment execution, where HELIX acts as the main data generation source, orchestrating various producers. Click on a component to understand its role in data generation.</p>
                <div class="flex flex-col items-center justify-center">
                    <div class="flow-arrow-down mb-4"></div>
                    <div class="flow-node node-process border-purple-600 rounded-xl p-8 w-72 text-center" onclick="showModal('HELIX')">
                        <h4 class="font-bold text-xl text-purple-300">HELIX</h4>
                        <p class="text-sm text-purple-200">Main Data Generation Source</p>
                    </div>
                    <div class="flow-arrow-down my-4"></div>
                    <h4 class="text-xl font-bold text-white mb-4">Major Data Producers:</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-start">
                        <div class="flow-node node-producer border-yellow-600 rounded-xl p-6 text-center" onclick="showModal('Wave Plate')">
                            <h4 class="font-bold text-lg text-yellow-300">Wave Plate</h4>
                            <p class="text-sm text-yellow-200">Data Producer</p>
                        </div>
                        <div class="flow-node node-producer border-yellow-600 rounded-xl p-6 text-center" onclick="showModal('Energymeter')">
                            <h4 class="font-bold text-lg text-yellow-300">Energymeter</h4>
                            <p class="text-sm text-yellow-200">Data Producer</p>
                        </div>
                        <div class="flow-node node-producer border-yellow-600 rounded-xl p-6 text-center" onclick="showModal('Profiler')">
                            <h4 class="font-bold text-lg text-yellow-300">Profiler</h4>
                            <p class="text-sm text-yellow-200">Data Producer</p>
                        </div>
                        <div class="flow-node node-producer border-yellow-600 rounded-xl p-6 text-center" onclick="showModal('Motion Stage')">
                            <h4 class="font-bold text-lg text-yellow-300">Motion Stage</h4>
                            <p class="text-sm text-yellow-200">Data Producer</p>
                        </div>
                        <div class="flow-node node-producer border-yellow-600 rounded-xl p-6 text-center" onclick="showModal('Heating Laser')">
                            <h4 class="font-bold text-lg text-yellow-300">Heating Laser</h4>
                            <p class="text-sm text-yellow-200">Data Producer (HT)</p>
                        </div>
                        <div class="flow-node node-producer border-yellow-600 rounded-xl p-6 text-center" onclick="showModal('Pyrometer')">
                            <h4 class="font-bold text-lg text-yellow-300">Pyrometer</h4>
                            <p class="text-sm text-yellow-200">Data Producer (PY)</p>
                        </div>
                        <div class="flow-node node-producer border-yellow-600 rounded-xl p-6 text-center" onclick="showModal('PDV')">
                            <h4 class="font-bold text-lg text-yellow-300">PDV</h4>
                            <p class="text-sm text-yellow-200">Data Producer & Validator</p>
                        </div>
                    </div>
                    <div class="flow-arrow-down my-4"></div>
                    <div class="flex flex-col md:flex-row items-center justify-center md:space-x-4">
                        <div class="flow-node node-input border-blue-600 rounded-xl p-6 w-64 text-center" onclick="showModal('Oscilloscope')">
                            <h4 class="font-bold text-lg text-blue-300">Oscilloscope</h4>
                            <p class="text-sm text-blue-200">Generates PDV Data (CSV)</p>
                        </div>
                        <div class="hidden md:block flow-arrow"></div>
                        <div class="flow-node node-process border-purple-600 rounded-xl p-8 w-72 text-center" onclick="showModal('PDV')">
                            <h4 class="font-bold text-xl text-purple-300">PDV</h4>
                            <p class="text-sm text-purple-200">Data Validation Unit</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 3. Data to Cluster (OpenMSI step1) -->
            <section id="data-to-cluster" class="p-8 bg-gray-800 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-bold text-white mb-2">Stage 3: Data to Cluster (OpenMSI Step 1)</h3>
                <p class="text-gray-400 mb-8">After generation, various data types flow to the OpenMSI cluster for further processing and temporary storage, initiating the first step of data ingestion into the cluster environment.</p>
                <div class="flex flex-col items-center justify-center">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4">
                        <div class="flow-node node-data-flow rounded-xl p-4 text-center" onclick="showModal('PDV Data Flow')">
                            <h4 class="font-bold text-base text-blue-200">PDV Data</h4>
                            <p class="text-xs text-blue-100">(from Oscilloscope)</p>
                        </div>
                        <div class="flow-node node-data-flow rounded-xl p-4 text-center" onclick="showModal('EN Data Flow')">
                            <h4 class="font-bold text-base text-blue-200">EN Data</h4>
                            <p class="text-xs text-blue-100">(Energy)</p>
                        </div>
                        <div class="flow-node node-data-flow rounded-xl p-4 text-center" onclick="showModal('PR Data Flow')">
                            <h4 class="font-bold text-base text-blue-200">PR Data</h4>
                            <p class="text-xs text-blue-100">(Beam Profiler)</p>
                        </div>
                        <div class="flow-node node-data-flow rounded-xl p-4 text-center" onclick="showModal('HT Data Flow')">
                            <h4 class="font-bold text-base text-blue-200">HT Data</h4>
                            <p class="text-xs text-blue-100">(Heating Laser)</p>
                        </div>
                        <div class="flow-node node-data-flow rounded-xl p-4 text-center" onclick="showModal('PY Data Flow')">
                            <h4 class="font-bold text-base text-blue-200">PY Data</h4>
                            <p class="text-xs text-blue-100">(Pyrometer)</p>
                        </div>
                    </div>
                    <div class="flow-arrow-down mb-4"></div>
                    <div class="flow-node node-process border-indigo-600 rounded-xl p-8 w-80 text-center" onclick="showModal('OpenMSI Cluster')">
                        <h4 class="font-bold text-xl text-indigo-300">OpenMSI Cluster</h4>
                        <p class="text-sm text-indigo-200">Primary Processing Cluster</p>
                        <p class="text-xs text-indigo-100 mt-1">Data from PDV_data folder has interface</p>
                        <p class="text-xs text-indigo-100">Data remains on cluster for 30 days</p>
                    </div>
                </div>
            </section>

            <!-- 4. Cluster to Girder (step2) -->
            <section id="cluster-to-girder" class="p-8 bg-gray-800 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-bold text-white mb-2">Stage 4: Cluster to Girder (Step 2)</h3>
                <p class="text-gray-400 mb-8">The final stage involves transferring processed data from the OpenMSI cluster to Girder, typically for long-term storage, sharing, and further analysis.</p>
                <div class="flex flex-col items-center justify-center">
                    <div class="flow-arrow-down mb-4"></div>
                    <div class="flow-node node-output border-red-600 rounded-xl p-8 w-72 text-center" onclick="showModal('Girder')">
                        <h4 class="font-bold text-xl text-red-300">Girder</h4>
                        <p class="text-sm text-red-200">Data Management Platform</p>
                    </div>
                </div>
            </section>
            
            <!-- 5. Post-Girder Processing (ALPSS & SPADE) -->
            <section id="post-girder" class="p-8 bg-gray-800 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-bold text-white mb-2">Stage 5: Post-Girder Processing (ALPSS & SPADE)</h3>
                <p class="text-gray-400 mb-8">After data is available on Girder, further analysis and processing occur, leading to specialized outputs and user-requested data.</p>
                <div class="flex flex-col items-center justify-center">
                    <div class="flow-arrow-down mb-4"></div>
                    <div class="flow-node node-process border-orange-600 rounded-xl p-8 w-72 text-center" onclick="showModal('ALPSS Post-Girder')">
                        <h4 class="font-bold text-xl text-orange-300">ALPSS Run</h4>
                        <p class="text-sm text-orange-200">Processes data from Girder</p>
                    </div>
                    <div class="flow-arrow-down my-4"></div>
                     <div class="flow-node node-output border-lime-600 rounded-xl p-6 w-64 text-center" onclick="showModal('Velocity Profile Folder')">
                        <h4 class="font-bold text-lg text-lime-300">Velocity Profile Folder</h4>
                        <p class="text-sm text-lime-200">Outputs from ALPSS</p>
                    </div>
                     <div class="flow-arrow-down my-4"></div>
                    <div class="flow-node node-process border-orange-600 rounded-xl p-8 w-72 text-center" onclick="showModal('SPADE')">
                        <h4 class="font-bold text-xl text-orange-300">SPADE Run</h4>
                        <p class="text-sm text-orange-200">Processes velocity data</p>
                    </div>
                    <div class="flow-arrow-down my-4"></div>
                    <div class="flow-node node-output border-red-600 rounded-xl p-8 w-72 text-center" onclick="showModal('Girder User Outputs')">
                        <h4 class="font-bold text-xl text-red-300">Girder</h4>
                        <p class="text-sm text-red-200">User Requested Outputs Location</p>
                    </div>
                </div>
            </section>
            
            <!-- Ancillary Information -->
            <section id="ancillary" class="p-8 bg-gray-800 rounded-2xl shadow-xl">
                <h3 class="text-2xl font-bold text-white mb-2">Ancillary Information & System Parameters</h3>
                <p class="text-gray-400 mb-8">This section contains supplementary details about the system's configuration, monitoring, and associated parameters that support the overall workflow.</p>
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-gray-900 p-6 rounded-xl border border-gray-700">
                        <h4 class="font-bold text-white mb-4">System Parameters</h4>
                        <ul class="space-y-2 text-sm">
                            <li class="flex justify-between"><span>AWP:</span> <span class="font-mono bg-gray-700 px-2 py-1 rounded text-gray-300">-2021, -0001, ...</span></li>
                            <li class="flex justify-between"><span>EN:</span> <span class="font-mono bg-gray-700 px-2 py-1 rounded text-gray-300">Parameter</span></li>
                            <li class="flex justify-between"><span>PN:</span> <span class="font-mono bg-gray-700 px-2 py-1 rounded text-gray-300">Parameter</span></li>
                            <li class="flex justify-between"><span>PR:</span> <span class="font-mono bg-gray-700 px-2 py-1 rounded text-gray-300">Parameter</span></li>
                            <li class="flex justify-between"><span>CA:</span> <span class="font-mono bg-gray-700 px-2 py-1 rounded text-gray-300">Parameter</span></li>
                        </ul>
                    </div>
                     <div class="bg-gray-900 p-6 rounded-xl border border-gray-700">
                        <h4 class="font-bold text-white mb-4">Configuration & Monitoring</h4>
                         <p class="text-sm text-gray-400">The ALPSS system has associated configuration and monitoring components, as well as spare capacity and a designated person for export/upload tasks.</p>
                         <div class="mt-4 space-y-2">
                             <div class="flow-node node-ancillary border-indigo-600 rounded-lg p-3 text-sm" onclick="showModal('Config')">Config</div>
                             <div class="flow-node node-ancillary border-indigo-600 rounded-lg p-3 text-sm" onclick="showModal('Monitor')">Monitor</div>
                             <div class="flow-node node-ancillary border-indigo-600 rounded-lg p-3 text-sm" onclick="showModal('SPARE')">SPARE</div>
                             <div class="flow-node node-ancillary border-indigo-600 rounded-lg p-3 text-sm" onclick="showModal('Exp Up Person')">Exp Up Person</div>
                         </div>
                    </div>
                </div>
            </section>
            
            <!-- Data Dictionary -->
            <section id="dictionary" class="p-8 bg-gray-800 rounded-2xl shadow-xl">
                 <h3 class="text-2xl font-bold text-white mb-2">Data Element Dictionary</h3>
                <p class="text-gray-400 mb-8">A complete list of all components and data elements identified in the system diagram.</p>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm">
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">IGSN</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Data Input Forms</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">HELIX</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">PDV</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Oscilloscope</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Wave Plate</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Energymeter</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Profiler</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Motion Stage</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Heating Laser</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Pyrometer</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">user inputs (PDV)</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Pym (PDV)</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Printers (PDV)</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Namespaces (PDV)</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">EN (Energy Data)</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">PR (Beam Profiler Data)</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">HT (Heating Laser Data)</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">PY (Pyrometer Data)</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Pym Logic</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Counts</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">ALPSS</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">ALPSS OP</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">20150517_0003.csv</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Media</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Audion</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">User Interface</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">No of user</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Input</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Form</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">AWP</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">EN/PN/PR/CA</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">SPARE</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Exp Up Person</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">OpenMSI Cluster</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">PDV_data folder</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Girder</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Velocity Profile Folder</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">SPADE</div>
                    <div class="bg-gray-700 p-3 rounded-lg text-gray-300">Girder User Outputs</div>
                </div>
            </section>

        </div>
    </main>

    <!-- Modal -->
    <div id="modal" class="hidden fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8 relative">
            <button onclick="hideModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white">&times;</button>
            <h3 id="modal-title" class="text-2xl font-bold mb-4"></h3>
            <div id="modal-content" class="space-y-2"></div>
        </div>
    </div>


    <script>
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');

        const modalData = {
            'IGSN': {
                title: 'IGSN (Initial Data Identifier)',
                content: '<p>Represents an initial identifier or tag for the data, crucial for tracking and organizing experiment runs. It serves as a foundational data point for subsequent processes.</p>'
            },
            'Data Input Forms': {
                title: 'Data Input Forms (Script & Parameter Input)',
                content: '<p>These forms are used for generating experiment run scripts and inputting essential parameters. They are the primary interface for defining and initiating new experiment data capture.</p>'
            },
            'User Interface': {
                title: 'User Interface',
                content: '<p>Provides a direct interface for user interaction with the system, likely for inputting various parameters or initiating processes. It captures:</p><ul class="list-disc list-inside mt-2"><li>Number of users</li><li>User-specific inputs</li><li>General form data</li></ul>'
            },
            'HELIX': {
                title: 'HELIX (Main Data Generation Source)',
                content: '<p>HELIX is the central system responsible for orchestrating and generating the primary experiment data. It integrates with and receives input from its various data producers to compile comprehensive datasets.</p>'
            },
            'Wave Plate': {
                title: 'Wave Plate (Data Producer)',
                content: '<p>A physical component or sensor that generates specific data during the experiment run, contributing directly to the data compiled by HELIX.</p>'
            },
            'Energymeter': {
                title: 'Energymeter (Data Producer)',
                content: '<p>Measures and produces energy-related data during the experiment, which is fed into HELIX for holistic data generation (Corresponds to EN data flow).</p>'
            },
            'Profiler': {
                title: 'Profiler (Data Producer)',
                content: '<p>Generates profiling data, possibly related to performance or specific characteristics of the experiment, contributing to the HELIX dataset (Corresponds to PR data flow).</p>'
            },
            'Motion Stage': {
                title: 'Motion Stage (Data Producer)',
                content: '<p>Provides data related to physical movement or positioning within the experiment setup, essential for spatial or temporal data correlation within HELIX.</p>'
            },
            'Heating Laser': {
                title: 'Heating Laser (Data Producer)',
                content: '<p>A component that generates heating laser data (HT), which is fed into HELIX as part of the overall experiment data.</p>'
            },
            'Pyrometer': {
                title: 'Pyrometer (Data Producer)',
                content: '<p>An instrument that measures temperature and generates pyrometer data (PY), contributing to the HELIX dataset.</p>'
            },
            'PDV': {
                title: 'PDV (Data Producer & Validator)',
                content: '<p>A key data producer for HELIX. PDV specifically receives its primary data from an Oscilloscope in CSV format. It also performs data validation. Its internal functions include:</p><ul class="list-disc list-inside mt-2"><li><b>user inputs:</b> Handles specific user inputs related to data validation.</li><li><b>Pym:</b> Likely a Python-based module for data processing.</li><li><b>Printers:</b> Output or logging functions for PDV operations.</li><li><b>Namespaces:</b> Manages data organization within PDV.</li></ul>'
            },
            'Oscilloscope': {
                title: 'Oscilloscope (PDV Data Source)',
                content: '<p>This instrument is directly coupled with the PDV and is responsible for generating data for the PDV in a CSV format. It contains an onboard Windows computer where the `PDV_data` folder is located.</p>'
            },
            'PDV Data Flow': {
                title: 'PDV Data to Cluster',
                content: '<p>Data originating from the PDV, typically in CSV format from the Oscilloscope, is transferred to the OpenMSI Cluster.</p>'
            },
            'EN Data Flow': {
                title: 'EN (Energy) Data to Cluster',
                content: '<p>Energy data generated by the Energymeter flows to the OpenMSI Cluster for processing.</p>'
            },
            'PR Data Flow': {
                title: 'PR (Beam Profiler) Data to Cluster',
                content: '<p>Beam profiler data from the Profiler component is sent to the OpenMSI Cluster for analysis.</p>'
            },
            'HT Data Flow': {
                title: 'HT (Heating Laser) Data to Cluster',
                content: '<p>Data generated by the Heating Laser is transmitted to the OpenMSI Cluster for integration with other experiment data.</p>'
            },
            'PY Data Flow': {
                title: 'PY (Pyrometer) Data to Cluster',
                content: '<p>Pyrometer data, capturing temperature measurements, flows to the OpenMSI Cluster for comprehensive analysis.</p>'
            },
            'OpenMSI Cluster': {
                title: 'OpenMSI Cluster (Primary Processing Cluster)',
                content: '<p>The first step in data transfer after experiment run. Various data streams (PDV, EN, PR, HT, PY) converge here for initial processing and temporary storage. Data from the `PDV_data` folder on the Oscilloscope has a direct interface with this cluster. Data remains on the cluster for 30 days.</p>'
            },
            'Girder': {
                title: 'Girder (Data Management Platform)',
                content: '<p>The primary destination for processed data from the OpenMSI cluster. Girder serves as a robust data management platform for long-term storage, sharing, and further analysis.</p>'
            },
            'ALPSS Post-Girder': {
                title: 'ALPSS Run (Post-Girder Processing)',
                content: '<p>After data is available on Girder, ALPSS performs further analysis, specifically generating velocity profiles from each trace. These profiles are then saved into a dedicated folder.</p>'
            },
            'Velocity Profile Folder': {
                title: 'Velocity Profile Folder',
                content: '<p>A dedicated storage location for the velocity profiles generated by the ALPSS run from the Girder data.</p>'
            },
            'SPADE': {
                title: 'SPADE Run',
                content: '<p>SPADE runs on the velocity data files located in the "Velocity Profile Folder." It processes these files to generate user-requested outputs.</p>'
            },
            'Girder User Outputs': {
                title: 'Girder (User Requested Outputs Location)',
                content: '<p>The final destination on Girder where SPADE saves its processed outputs, tailored to user requests. This is a different location from the initial Girder data.</p>'
            },
            'Pym Logic': {
                title: 'Pym Logic',
                content: '<p>A module containing specific business logic, likely written in Python ("Pym"). It performs data transformations.</p>'
            },
            'Counts': {
                title: 'Counts',
                content: '<p>This module performs aggregation or counting operations on the data.</p>'
            },
            'ALPSS': {
                title: 'ALPSS (Downstream System - General)',
                content: '<p>A major downstream system that receives processed data. It has its own operational stage (ALPSS OP) and handles outputs like Media and Audion. Note: A separate ALPSS run occurs post-Girder.</p>'
            },
            'ALPSS OP': {
                title: 'ALPSS OP (Operational Stage)',
                content: '<p>The operational phase within the ALPSS system where data is actively processed or utilized.</p>'
            },
            '20150517_0003.csv': {
                title: 'CSV File Output (20150517_0003.csv)',
                content: '<p>Represents a concrete data output from the system, a CSV file named `20150517_0003.csv`. This is likely a data export for reporting or analysis.</p>'
            },
            'Media/Audion': {
                title: 'Media & Audion Outputs',
                content: '<p>The ALPSS system is responsible for generating media and "audion" (audio?) files as part of its output, potentially used for visualization or audio analysis.</p>'
            },
            'Config': {
                title: 'Configuration',
                content: '<p>A component for managing the configuration of the ALPSS system, ensuring it operates according to defined parameters.</p>'
            },
            'Monitor': {
                title: 'Monitor',
                content: '<p>A component for monitoring the status and performance of the ALPSS system, crucial for system health and troubleshooting.</p>'
            },
            'SPARE': {
                title: 'SPARE',
                content: '<p>Indicates a reserved or spare component in the architecture, available for future expansion, redundancy, or as a placeholder for new features.</p>'
            },
            'Exp Up Person': {
                title: 'Export/Upload Person',
                content: '<p>A note indicating a specific person or role is responsible for handling data exports and uploads from the system to external locations.</p>'
            }
        };

        function showModal(key) {
            if (modalData[key]) {
                modalTitle.textContent = modalData[key].title;
                modalContent.innerHTML = modalData[key].content;
                modal.classList.remove('hidden');
            }
        }

        function hideModal() {
            modal.classList.add('hidden');
        }

        // Close modal on escape key
        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                hideModal();
            }
        });

        // Close modal on outside click
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                hideModal();
            }
        });
    </script>

</body>
</html>

